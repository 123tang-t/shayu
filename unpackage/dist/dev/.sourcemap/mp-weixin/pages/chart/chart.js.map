{"version":3,"sources":["uni-app:///main.js","webpack:///F:/小程序/bookkeeping_uni/pages/chart/chart.vue?3868","webpack:///F:/小程序/bookkeeping_uni/pages/chart/chart.vue?8cfc","webpack:///F:/小程序/bookkeeping_uni/pages/chart/chart.vue?c1d3","webpack:///F:/小程序/bookkeeping_uni/pages/chart/chart.vue?45ea","uni-app:///pages/chart/chart.vue","webpack:///F:/小程序/bookkeeping_uni/pages/chart/chart.vue?090d","webpack:///F:/小程序/bookkeeping_uni/pages/chart/chart.vue?0643"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACyM;AACzM,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAmxB,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2HvyB,uH;AACA,iB;AACA;AACA,MADA,kBACA;AACA;AACA,cADA;AAEA,eAFA;AAGA,yBAHA;AAIA,uBAJA;AAKA,qBALA;AAMA,iBANA;AAOA,qBAPA;AAQA,mBARA;AASA,iBATA;AAUA,kBAVA;AAWA;AACA,aAZA;AAaA;AACA,iBAdA;AAeA,mBAfA;AAgBA,mBAhBA;AAiBA;AACA;AACA;AACA,qBADA;AAEA,sBAFA;AAGA,uBAHA;AAIA,wBAJA;AAKA,8BALA,EADA;;AAQA;AACA,4BADA;AAEA;AACA,wBADA;AAEA;AACA,gCADA,EACA;AACA,4BAFA,CAEA;AAFA,eAFA,EAFA;;AASA;AACA;AACA,gCADA,EADA,EATA;;;AAcA,oBAdA,EARA;;AAwBA;AACA;AACA;AAFA,WAxBA;AA4BA;AACA,oBADA;AAEA,wBAFA;AAGA,wBAHA,GA5BA,EADA,EAjBA;;;;;AAsDA,GAxDA;AAyDA;AACA,4BADA,EAzDA;;AA4DA,QA5DA,oBA4DA;AACA;AACA;AACA;AACA;AACA,GAjEA;AAkEA;AACA,QADA,kBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBADA;AAEA,6BAFA;AAGA,yBAHA;;AAKA;AACA;AACA;AACA;AACA,KArBA;AAsBA,QAtBA,kBAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/BA;AAgCA,eAhCA,yBAgCA;AACA;AACA;AACA,wDADA;AAEA,sBAFA;AAGA;AACA,oCADA;AAEA,2BAFA;AAGA,yBAHA;AAIA,kCAJA;AAKA,oCALA;AAMA,gCANA;AAOA,yBAPA,EAHA;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA,SAlBA;;AAoBA,KAtDA;AAuDA,YAvDA,oBAuDA,IAvDA,EAuDA,IAvDA,EAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBADA;AAEA,oBAFA;AAGA,gBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA9EA;AA+EA,iBA/EA,2BA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBADA;AAEA,+BAFA;AAGA,2BAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,wBAFA;AAGA,oBAHA;;AAKA;AACA;AACA;AACA;AACA,KA9GA;AA+GA,YA/GA,sBA+GA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAVA;AAWA,KA3HA;AA4HA,iBA5HA,2BA4HA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAjIA;AAkIA,mBAlIA,2BAkIA,CAlIA,EAkIA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KA1IA;AA2IA,mBA3IA,2BA2IA,CA3IA,EA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA,KAvJA;AAwJA,aAxJA,qBAwJA,MAxJA,EAwJA,MAxJA,EAwJA,KAxJA,EAwJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApKA;AAqKA,SArKA,mBAqKA;AACA;AACA;AACA;AACA;AACA,KA1KA,EAlEA,E;;;;;;;;;;;;;AC7HA;AAAA;AAAA;AAAA;AAAq6C,CAAgB,63CAAG,EAAC,C;;;;;;;;;;ACAz7C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/chart/chart.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/chart/chart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chart.vue?vue&type=template&id=41609804&\"\nvar renderjs\nimport script from \"./chart.vue?vue&type=script&lang=js&\"\nexport * from \"./chart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chart/chart.vue\"\nexport default component.exports","export * from \"-!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chart.vue?vue&type=template&id=41609804&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.chartDetail, function(item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 = parseFloat(item.percentage)\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chart.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"chart\">\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"type-btn\">\r\n\t\t\t\t<view\r\n\t\t\t\t\t:class=\"[typeClass === 'outlay'?'type':'', 'button', 'left']\"\r\n\t\t\t\t\t@click=\"typeColorChange('outlay')\">\r\n\t\t\t\t\t支出\r\n\t\t\t\t</view>\r\n\t\t\t\t<view\r\n\t\t\t\t\t:class=\"[typeClass === 'income'?'type':'', 'button', 'right']\"\r\n\t\t\t\t\t@click=\"typeColorChange('income')\">\r\n\t\t\t\t\t收入\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"date-btn\">\r\n\t\t\t\t<view\r\n\t\t\t\t\t:class=\"[dateClass === 'week'?'type':'', 'button', 'left']\"\r\n\t\t\t\t\t@click=\"dateColorChange('week')\">\r\n\t\t\t\t\t周\r\n\t\t\t\t</view>\r\n\t\t\t\t<view\r\n\t\t\t\t\t:class=\"[dateClass === 'month'?'type':'', 'button', 'center']\"\r\n\t\t\t\t\t@click=\"dateColorChange('month')\">\r\n\t\t\t\t\t月\r\n\t\t\t\t</view>\r\n\t\t\t\t<view\r\n\t\t\t\t\t:class=\"[dateClass === 'year'?'type':'', 'button', 'right']\"\r\n\t\t\t\t\t@click=\"dateColorChange('year')\">\r\n\t\t\t\t\t年\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"chart-content\">\r\n\t\t\t<view class=\"date-list\">\r\n\t\t\t\t<view class=\"list\" v-if=\"dateClass === 'week'\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\t:class=\"[dateIndex === index?'date-index':'', 'scroll-view-item_H', 'data']\"\r\n\t\t\t\t\t\tv-for=\"(week, index) in weekArray\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t@click=\"changDate(week.start, week.end, index)\">\r\n\t\t\t\t\t\t{{week.desc}}周\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list\" v-if=\"dateClass === 'month'\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\t:class=\"[dateIndex === index?'date-index':'', 'scroll-view-item_H', 'data']\"\r\n\t\t\t\t\t\tv-for=\"(week, index) in weekArray\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t@click=\"changDate(week.start, week.end, index)\">\r\n\t\t\t\t\t\t{{week.desc}}月\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list year-list\" v-if=\"dateClass === 'year'\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\t:class=\"[dateIndex === index?'date-index':'', 'scroll-view-item_H', 'data']\"\r\n\t\t\t\t\t\tv-for=\"(week, index) in weekArray\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t@click=\"changDate(week.start, week.end, index)\">\r\n\t\t\t\t\t\t{{week.desc}}年\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"total\">\r\n\t\t\t\t<view class=\"total-outlay\">\r\n\t\t\t\t\t总支出：{{totalOutlay}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"average\">\r\n\t\t\t\t\t平均值：{{average}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"chart\">\r\n\t\t\t\t<uni-ec-canvas\r\n\t\t\t\t\tclass=\"uni-ec-canvas\"\r\n\t\t\t\t\tid=\"uni-ec-canvas\"\r\n\t\t\t\t\tref=\"uni-ec-canvas\"\r\n\t\t\t\t\tcanvas-id=\"uni-ec-canvas\"\r\n\t\t\t\t\t:ec=\"ec\"\r\n\t\t\t\t></uni-ec-canvas>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"chart-detail\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t{{typeClass === 'outlay'?'支出':'收入'}}排行榜\r\n\t\t\t</view>\r\n\t\t\t<view\r\n\t\t\t\tclass=\"list\"\r\n\t\t\t\tv-for=\"item in chartDetail\"\r\n\t\t\t\t:key=\"item.tag_id\">\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t<image class=\"img\" :src=\"item.touch_icon\" mode=\"图标\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view class=\"list-desc\">\r\n\t\t\t\t\t\t<view class=\"type\">\r\n\t\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t\t{{item.tag_name}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"percentage\">\r\n\t\t\t\t\t\t\t\t{{item.percentage}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"money\">\r\n\t\t\t\t\t\t\t{{item.bill_amount}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"progress-bar\">\r\n\t\t\t\t\t\t<progress \r\n\t\t\t\t\t\t\t:percent=\"parseFloat(item.percentage)\"\r\n\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\tstroke-width=\"6\"\r\n\t\t\t\t\t\t\tborder-radius=\"5\"\r\n\t\t\t\t\t\t\tactiveColor=\"#ffcc00\"\r\n\t\t\t\t\t\t\tbackgroundColor=\"#f4f5f5\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport uniEcCanvas from '@/components/uni-ec-canvas/uni-ec-canvas/uni-ec-canvas.vue'\r\n\timport * as echarts from '@/components/uni-ec-canvas/uni-ec-canvas/echarts'\r\n\t let chart = null\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tuser: {},\r\n\t\t\t\ttoken: '',\n\t\t\t\ttypeClass: 'outlay',\r\n\t\t\t\tdateClass: 'week',\r\n\t\t\t\ttotalOutlay: '',\r\n\t\t\t\taverage: '',\r\n\t\t\t\tchartDetail: [],\r\n\t\t\t\tstartTime: '',\r\n\t\t\t\tendTime: '',\r\n\t\t\t\tdateIndex: 4,\r\n\t\t\t\t// 请求的类型：0-支出，1-收入\r\n\t\t\t\ttype: 0,\r\n\t\t\t\t// 请求的时间类型类型：0-周，1-月，2-年'\r\n\t\t\t\ttimeType: 0,\r\n\t\t\t\tweekArray: [],\r\n\t\t\t\tchartData: [],\r\n\t\t\t\tec: {\r\n\t\t\t\t\toption: {\r\n\t\t\t\t\t\tgrid: {\r\n\t\t\t\t\t\t\ttop: '15',\r\n\t\t\t\t\t\t\tleft: '5%',\r\n\t\t\t\t\t\t\tright: '5%',\r\n\t\t\t\t\t\t\tbottom: '3%',\r\n\t\t\t\t\t\t\tcontainLabel: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t    xAxis: {\r\n\t\t\t\t\t        type: 'category',\r\n\t\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\t   show: true,\r\n\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t  color: '#c3dbff',  //更改坐标轴文字颜色\r\n\t\t\t\t\t\t\t\t  fontSize : 10      //更改坐标轴文字大小\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\t\tcolor: '#808080'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t        data: []\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    yAxis: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t        // type: 'value'\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    series: [{\r\n\t\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t        type: 'line',\r\n\t\t\t\t\t\t\tsmooth: true\r\n\t\t\t\t\t    }]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\n\t\t\t}\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tuniEcCanvas\r\n\t\t},\r\n\t\tonShow () {\r\n\t\t\tthis.user = this.$store.state.user\r\n\t\t\tthis.token = this.$store.state.token\r\n\t\t\tthis.date()\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdate () {\r\n\t\t\t\tthis.weekArray = []\r\n\t\t\t\tthis.ec.option.xAxis.data = []\r\n\t\t\t\tvar w = new Date().getDay()\r\n\t\t\t\tif (w === 0) {\r\n\t\t\t\t\tw = 7\r\n\t\t\t\t}\r\n\t\t\t\tvar startDate = new Date(new Date().setDate(new Date().getDate()-w+1))\r\n\t\t\t\tthis.startTime = `${startDate.getFullYear()}-${startDate.getMonth()+1}-${startDate.getDate()}` + ' ' + '00:00:00'\r\n\t\t\t\tvar endDate = new Date(startDate.setDate(startDate.getDate()+6))\r\n\t\t\t\tthis.endTime = `${endDate.getFullYear()}-${endDate.getMonth()+1}-${endDate.getDate()}`+' '+'23:59:59'\r\n\t\t\t\tthis.weekArray.push({\r\n\t\t\t\t\tdesc: '本',\r\n\t\t\t\t\tstart: this.startTime,\r\n\t\t\t\t\tend: this.endTime\r\n\t\t\t\t})\r\n\t\t\t\tlet time = new Date(this.startTime).getDate()\r\n\t\t\t\tfor (let i = 0; i < 7; i++) {\r\n\t\t\t\t\tthis.ec.option.xAxis.data.push(time+i)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinit () {\r\n\t\t\t\tvar w = new Date().getDay()\r\n\t\t\t\tif (w === 0) {\r\n\t\t\t\t\tw = 7\r\n\t\t\t\t}\r\n\t\t\t\tvar startDate = new Date(new Date().setDate(new Date().getDate()-7-w+1))\r\n\t\t\t\tthis.weekDate(startDate, -7)\r\n\t\t\t\tthis.dateSort()\r\n\t\t\t\tthis.requestDate()\r\n\t\t\t},\r\n\t\t\trequestDate () {\r\n\t\t\t\tvar timestamp = Math.round(new Date().getTime()/1000).toString()\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'http://106.55.25.207/bill/bill_chart_data',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuser_id: this.user.user_id,\r\n\t\t\t\t\t\ttoken: this.token,\r\n\t\t\t\t\t\ttype: this.type,\r\n\t\t\t\t\t\ttime_type: this.timeType,\r\n\t\t\t\t\t\tstart_time: this.startTime,\r\n\t\t\t\t\t\tend_time: this.endTime,\r\n\t\t\t\t\t\ttime: timestamp\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.totalOutlay = res.data.data.sum_amount\r\n\t\t\t\t\t\tthis.average = res.data.data.avg_amount\r\n\t\t\t\t\t\tthis.chartDetail = res.data.data.proportion_chart\r\n\t\t\t\t\t\tthis.chartData = res.data.data.line_chart\r\n\t\t\t\t\t\tthis.initChartData()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tweekDate (date, days) {\r\n\t\t\t\tvar endDate = new Date(date.setDate(date.getDate()-days))\r\n\t\t\t\tvar end = `${endDate.getFullYear()}-${endDate.getMonth()+1}-${endDate.getDate()}`+ ' ' +'23:59:59'\r\n\t\t\t\tvar startDate = new Date(endDate.setDate(endDate.getDate()+days))\r\n\t\t\t\tvar start = `${startDate.getFullYear()}-${startDate.getMonth()+1}-${startDate.getDate()}` + ' ' + '00:00:00'\r\n\t\t\t\tvar time1 = new Date(start)\r\n\t\t\t\tvar time2 = new Date(time1.getFullYear(), 0, 1)\r\n\t\t\t\tvar d = Math.round((time1.valueOf() - time2.valueOf()) / 86400000)\r\n\t\t\t\tvar desc = Math.ceil((d + ((time2.getDay() + 1) - 1)) / 7)\r\n\t\t\t\tthis.weekArray.push({\r\n\t\t\t\t\tdesc: desc,\r\n\t\t\t\t\tstart: start,\r\n\t\t\t\t\tend: end\r\n\t\t\t\t})\r\n\t\t\t\t// 计算下一个星期的开始时间\r\n\t\t\t\tvar newDate = new Date(startDate.setDate(startDate.getDate()-7))\r\n\t\t\t\t// 周期数组长度\r\n\t\t\t\tlet length = this.weekArray.length\r\n\t\t\t\tif (length < 5) {\r\n\t\t\t\t\tthis.weekDate(newDate, -7)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tyearMonthDate () {\r\n\t\t\t\tthis.weekArray = []\r\n\t\t\t\t// if (this.this.dateClass === 'month') {\r\n\t\t\t\t// \tlet time = new Data()\r\n\t\t\t\t// \tthis.startTime = `${time.getYear()}-${time.getMonth()+1}` + '01' + ' ' + '00:00:00'\r\n\t\t\t\t// }\r\n\t\t\t\tif (this.dateClass === 'year') {\r\n\t\t\t\t\tthis.timeType = 2\r\n\t\t\t\t\tthis.dateIndex = 1\r\n\t\t\t\t\tlet time = new Date()\r\n\t\t\t\t\tthis.startTime = `${time.getFullYear()}`+'-01-01 00:00:00'\r\n\t\t\t\t\tthis.endTime = `${time.getFullYear()}`+'-12-31 23:59:59'\r\n\t\t\t\t\tthis.weekArray.push({\r\n\t\t\t\t\t\tdesc: '今',\r\n\t\t\t\t\t\tstart: this.startTime,\r\n\t\t\t\t\t\tend: this.endTime\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet length = this.weekArray.length\r\n\t\t\t\t\tif (length < 2) {\r\n\t\t\t\t\t\tlet newYears = time.getFullYear() - 1\r\n\t\t\t\t\t\tlet start = `${newYears}`+'-01-01 00:00:00'\r\n\t\t\t\t\t\tlet end = `${newYears}`+'-12-31 23:59:59'\r\n\t\t\t\t\t\tthis.weekArray.push({\r\n\t\t\t\t\t\t\tdesc: '去',\r\n\t\t\t\t\t\t\tstart: start,\r\n\t\t\t\t\t\t\tend: end\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.dateSort()\r\n\t\t\t\t\tthis.requestDate()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdateSort () {\r\n\t\t\t\tthis.weekArray = this.weekArray.sort((sel1, sel2) => {\r\n\t\t\t\t\tvar val1 = new Date(sel1.start)\r\n\t\t\t\t\tvar val2 = new Date(sel2.start)\r\n\t\t\t\t\tif (val1 < val2) {\r\n\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t} else if (val1 > val2) {\r\n\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn 0\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinitChartData () {\r\n\t\t\t\tthis.ec.option.series[0].data = []\r\n\t\t\t\tthis.chartData.forEach((item) => {\r\n\t\t\t\t\tthis.ec.option.series[0].data.push(item.bill_amount)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttypeColorChange (e) {\r\n\t\t\t\tthis.typeClass = e\r\n\t\t\t\tif (e === 'outlay') {\r\n\t\t\t\t\tthis.type = 0\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.type = 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.requestDate()\r\n\t\t\t},\r\n\t\t\tdateColorChange (e) {\r\n\t\t\t\tthis.dateClass = e\r\n\t\t\t\tif (this.dateClass === 'week') {\r\n\t\t\t\t\tthis.timeType = 0\r\n\t\t\t\t\tthis.dateIndex = 4\r\n\t\t\t\t\tthis.date()\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.yearMonthDate()\r\n\t\t\t\t\tthis.requestDate()\r\n\t\t\t\t\tthis.Xaxis()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangDate (value1, value2, index) {\r\n\t\t\t\tthis.dateIndex = index\r\n\t\t\t\tthis.startTime = value1\r\n\t\t\t\tthis.endTime = value2\r\n\t\t\t\tif (this.dateClass === 'week') {\r\n\t\t\t\t\tthis.ec.option.xAxis.data = []\r\n\t\t\t\t\tlet time = new Date(value1).getDate()\r\n\t\t\t\t\tfor (let i = 0; i < 7; i++) {\r\n\t\t\t\t\t\tthis.ec.option.xAxis.data.push(time+i)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.requestDate()\r\n\t\t\t},\r\n\t\t\tXaxis () {\r\n\t\t\t\tthis.ec.option.xAxis.data = []\r\n\t\t\t\tfor (let x = 1; x <= 12; x++) {\r\n\t\t\t\t\tthis.ec.option.xAxis.data.push(x+'月')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n.chart {\r\n\t.header {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 25rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground: #ffcc00;\r\n\t\t.type-btn, .date-btn {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 70rpx;\r\n\t\t\t.button {\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tborder: 2rpx solid #000;\r\n\t\t\t}\r\n\t\t\t.center {\r\n\t\t\t\tborder-left: none;\r\n\t\t\t\tborder-right: none;\r\n\t\t\t}\r\n\t\t\t.left {\r\n\t\t\t\tborder-top-left-radius: 20rpx;\r\n\t\t\t\tborder-bottom-left-radius: 20rpx;\r\n\t\t\t}\r\n\t\t\t.right {\r\n\t\t\t\tborder-top-right-radius: 20rpx;\r\n\t\t\t\tborder-bottom-right-radius: 20rpx;\r\n\t\t\t}\r\n\t\t\t.type {\r\n\t\t\t\tbackground: #000;\r\n\t\t\t\tcolor: #ffcc00;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.chart-content {\r\n\t\t.date-list {\r\n\t\t\tmargin-bottom: 5rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\tborder-bottom: 5rpx solid #f4f5f5;\r\n\t\t\t.list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\t// justify-content: center;\r\n\t\t\t\t.data {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\toverflow-x: auto;\r\n\t\t\t\t\twidth: 20%;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\tline-height: 60rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.date-index {\r\n\t\t\t\t\tborder-bottom: 5rpx solid #000;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.total {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\tpadding: 0 25rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t}\r\n\t\t.chart {\r\n\t\t\tmargin: 0 25rpx;\r\n\t\t\tborder-top: 2rpx solid #000;\r\n\t\t\tborder-bottom: 2rpx solid #000;\r\n\t\t\t.uni-ec-canvas {\r\n\t\t\t\theight: 200rpx;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.chart-detail {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t.title {\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t}\r\n\t\t.list {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t\t.left {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\twidth: 80rpx;\r\n\t\t\t\tbackground: #f4f5f5;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\tbackground: #ffcc00;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.right {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t.list-desc {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t.type {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\t.percentage {\r\n\t\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\n</style>\n","import mod from \"-!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\download\\\\HBuilderX.2.5.1.20200103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1615302187474\n      var cssReload = require(\"E:/download/HBuilderX.2.5.1.20200103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
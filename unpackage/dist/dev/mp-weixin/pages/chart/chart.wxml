<view class="chart"><view class="header"><view class="type-btn"><view data-event-opts="{{[['tap',[['typeColorChange',['outlay']]]]]}}" class="{{[typeClass==='outlay'?'type':'','button','left']}}" bindtap="__e">支出</view><view data-event-opts="{{[['tap',[['typeColorChange',['income']]]]]}}" class="{{[typeClass==='income'?'type':'','button','right']}}" bindtap="__e">收入</view></view><view class="date-btn"><view data-event-opts="{{[['tap',[['dateColorChange',['week']]]]]}}" class="{{[dateClass==='week'?'type':'','button','left']}}" bindtap="__e">周</view><view data-event-opts="{{[['tap',[['dateColorChange',['month']]]]]}}" class="{{[dateClass==='month'?'type':'','button','center']}}" bindtap="__e">月</view><view data-event-opts="{{[['tap',[['dateColorChange',['year']]]]]}}" class="{{[dateClass==='year'?'type':'','button','right']}}" bindtap="__e">年</view></view></view><view class="chart-content"><view class="date-list"><block wx:if="{{dateClass==='week'}}"><view class="list"><block wx:for="{{weekArray}}" wx:for-item="week" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changDate',['$0','$1',index],[[['weekArray','',index,'start']],[['weekArray','',index,'end']]]]]]]}}" class="{{[dateIndex===index?'date-index':'','scroll-view-item_H','data']}}" bindtap="__e">{{''+week.desc+'周'}}</view></block></view></block><block wx:if="{{dateClass==='month'}}"><view class="list"><block wx:for="{{weekArray}}" wx:for-item="week" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changDate',['$0','$1',index],[[['weekArray','',index,'start']],[['weekArray','',index,'end']]]]]]]}}" class="{{[dateIndex===index?'date-index':'','scroll-view-item_H','data']}}" bindtap="__e">{{''+week.desc+'月'}}</view></block></view></block><block wx:if="{{dateClass==='year'}}"><view class="list year-list"><block wx:for="{{weekArray}}" wx:for-item="week" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changDate',['$0','$1',index],[[['weekArray','',index,'start']],[['weekArray','',index,'end']]]]]]]}}" class="{{[dateIndex===index?'date-index':'','scroll-view-item_H','data']}}" bindtap="__e">{{''+week.desc+'年'}}</view></block></view></block></view><view class="total"><view class="total-outlay">{{'总支出：'+totalOutlay+''}}</view><view class="average">{{'平均值：'+average+''}}</view></view><view class="chart"><uni-ec-canvas class="uni-ec-canvas vue-ref" vue-id="2a9a2cfc-1" id="uni-ec-canvas" canvas-id="uni-ec-canvas" ec="{{ec}}" data-ref="uni-ec-canvas" bind:__l="__l"></uni-ec-canvas></view></view><view class="chart-detail"><view class="title">{{''+(typeClass==='outlay'?'支出':'收入')+'排行榜'}}</view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i0__" wx:key="tag_id"><view class="list"><view class="left"><image class="img" src="{{item.$orig.touch_icon}}" mode="图标"></image></view><view class="right"><view class="list-desc"><view class="type"><view class="name">{{''+item.$orig.tag_name+''}}</view><view class="percentage">{{''+item.$orig.percentage+''}}</view></view><view class="money">{{''+item.$orig.bill_amount+''}}</view></view><view class="progress-bar"><progress percent="{{item.m0}}" active="{{true}}" stroke-width="6" border-radius="5" activeColor="#ffcc00" backgroundColor="#f4f5f5"></progress></view></view></view></block></view></view>